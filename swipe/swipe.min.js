/*!
 * swipe.js
 * Copyright (c) 2015 Dmitriy Karpov
 * Released under MIT license
 */
(function(e,t){"use strict";function i(){if("ontouchstart"in e)return"touch";if(e.navigator.msPointerEnabled)return"msPointer";return"mouse"}function s(e){this.el=typeof e==="string"?t.querySelector(e):e}var n=10;var r=i();s.prototype.bind=function(e){this.setHandlers(e);if(r==="touch"){this.el.addEventListener("touchstart",this,false);t.addEventListener("touchmove",this,false);t.addEventListener("touchend",this,false);t.addEventListener("touchcancel",this,false)}else if(r==="msPointer"){this.el.addEventListener("MSPointerDown",this,false);t.addEventListener("MSPointerMove",this,false);t.addEventListener("MSPointerUp",this,false);t.addEventListener("MSPointerCancel",this,false)}else{this.el.addEventListener("mousedown",this,false);t.addEventListener("mousemove",this,false);t.addEventListener("mouseup",this,false)}};s.prototype.disable=function(){this.disabled=true};s.prototype.enable=function(){this.disabled=false};s.prototype.setHandlers=function(e){this.handlers={start:e.start||function(){},move:e.move||function(){},end:e.end||function(){}}};s.prototype.getCoordinates=function(e){var t=r==="touch"?e.targetTouches[0]||e.changedTouches[0]:e;return{x:t.clientX,y:t.clientY}};s.prototype.start=function(e){if(this.disabled)return;this.startPosition=this.getCoordinates(e);this.drag=true};s.prototype.move=function(e){if(!this.drag)return;var t=this.getCoordinates(e);if(this.swipe){e.preventDefault();this.handlers.move(t,e);return}var r=Math.abs(t.x-this.startPosition.x);var i=Math.abs(t.y-this.startPosition.y);if(r<n&&i<n){return}if(r>i){this.swipe=true;this.handlers.start(t,e);e.preventDefault();return}this.end()};s.prototype.end=function(){this.drag=false;if(this.swipe){this.handlers.end();this.swipe=false}};s.prototype.handleEvent=function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this.start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this.move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":this.end(e);break}};e.Swipe=s})(window,document)